<!DOCTYPE html>
<html lang="ar" dir="rtl" id="htmlLang">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="/img/images-removebg-preview.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/dist/umd/supabase.min.js"></script>
    <title data-i18n="site_title">Safe Hands - Babysitter Booking</title>
</head>
<body>
    <header>
        <nav>
            <div id="logo" class="logo">
                <img src="images-1-removebg-preview.png" alt="Safe Hands Icon">
                <span data-i18n="site_title">Safe Hands</span>
            </div>
            <div class="language-selector">
                <select id="languageSelect" onchange="changeLanguage()">
                    <option value="ar">العربية</option>
                    <option value="en">English</option>
                </select>
            </div>
            <div class="menu-toggle">
                <input type="checkbox" id="menu-toggle">
                <label for="menu-toggle">☰</label>
                <ul>
                    <li><a href="index.html" class="nav-link" data-i18n="nav_home">الرئيسية</a></li>
                    <li><a href="/Services/index.html" class="nav-link" data-i18n="nav_services">الخدمات</a></li>
                    <li><a href="/about/index.html" class="nav-link" data-i18n="nav_about">من نحن</a></li>
                    <li><a href="/con/index.html" class="nav-link" data-i18n="nav_contact">تواصل معنا</a></li>
                    <li><a href="/baby/index.html" class="nav-link" data-i18n="nav_find_babysitters">ابحث عن جليسات أطفال</a></li>
                    <li><a href="/booking/book.html" class="nav-link" data-i18n="nav_book_now">احجز الآن</a></li>
                    <li>
                        
                        <a href="/my_pro/profile.html" id="profile-link" class="nav-link" data-i18n="nav_profile" style="display: none;">البروفايل</a>
                    </li>
                    <li><a href="#" id="logout-link" class="nav-link" onclick="logout(); return false;" data-i18n="nav_logout" style="display: none;">تسجيل الخروج</a></li>
                    <li><a href="/log/login.html" id="login-link" class="nav-link" data-i18n="nav_login_signup">تسجيل الدخول / إنشاء حساب</a></li>
                    <span id="user-name-display" class="user-name-display">
                        <i class="fas fa-user"></i>
                        <span id="user-name-text"></span>
                    </span>
                </ul>
            </div>
        </nav>
    </header>

    <section id="home" class="hero">
        <div class="hero-content">
            <h1 data-i18n="hero_title">Safe Hands: Trusted Babysitting</h1>
            <p data-i18n="hero_description">Book reliable, vetted babysitters for your children with ease and confidence.</p>
            <a href="/booking/book.html"><button data-i18n="hero_button">Book Now</button></a>
        </div>
    </section>

    <section id="services" class="services">
        <h2 data-i18n="services_title">Our Services</h2>
        <div class="service-cards">
            <div class="card">
                <img src="/img/care.png" alt="Date Night Care">
                <h3 data-i18n="service1_title">Care for Kids & Seniors</h3>
                <p data-i18n="service1_description">Book trusted caregivers for both children and elderly — whether for medical support, babysitting, or companionship.</p>
            </div>
            <div class="card">
                <img src="/img/fe.jpg" alt="Regular Care">
                <h3 data-i18n="service2_title">Flexible Scheduling</h3>
                <p data-i18n="service2_description">Schedule care visits on-demand or in advance with full flexibility — whether for a few hours or ongoing support</p>
            </div>
            <div class="card">
                <img src="/img/ve1.png" alt="Emergency Care">
                <h3 data-i18n="service3_title">Verified Caregivers</h3>
                <p data-i18n="service3_description">All caregivers are background-checked, trained, and rated by families to ensure safe and reliable service.</p>
            </div>
        </div>
    </section>

    <a href="#home" class="scroll-up"><i class="fa-solid fa-arrow-up"></i></a>
    <a href="faq/index.html" class="faq" data-i18n="faq_link">FAQ</a>

    <footer class="footer">
        <div class="container">
            <div class="grid">
                <div>
                    <h3 data-i18n="footer_company_title">Safe Hands</h3>
                    <p data-i18n="footer_company_description">
                        احجز جليسات أطفال موثوقة ومُتحقق منها بسهولة وثقة.
                    </p>
                </div>
                <div>
                    <h3 data-i18n="footer_links_title">الروابط</h3>
                    <ul>
                        <li><a href="index.html" data-i18n="nav_home">الرئيسية</a></li>
                        <li><a href="/about/index.html" data-i18n="nav_about">من نحن</a></li>
                        <li><a href="/Services/index.html" data-i18n="nav_services">الخدمات</a></li>
                        <li><a href="/con/index.html" data-i18n="nav_contact">تواصل معنا</a></li>
                    </ul>
                </div>
                <div>
                    <h3 data-i18n="footer_contact_title">تواصل معنا</h3>
                    <ul>
                        <li data-i18n="footer_contact_email">البريد الإلكتروني: Safehands.com</li>
                        <li data-i18n="footer_contact_phone">رقم الهاتف: 01279581077</li>
                        <li data-i18n="footer_contact_address">العنوان: 202 شارع باكوس، الإسكندرية، مصر</li>
                    </ul>
                </div>
                <div class="Social-Media">
                    <a href="#"><i class="fab fa-facebook"></i></a>
                    <a href="#"><i class="fab fa-whatsapp"></i></a>
                    <a href="#"><i class="fab fa-instagram"></i></a>
                    <a href="#"><i class="fab fa-twitter"></i></a>
                    <a href="#"><i class="fab fa-linkedin"></i></a>
                    <a href="#"><i class="fab fa-youtube"></i></a>
                </div>
            </div>
            <div class="copyright">
                <span data-i18n="footer_copyright">جميع الحقوق محفوظة. 2025 Safe Hands.</span>
            </div>
        </div>
    </footer>

    <script>
        const translations = {
            ar: {
                site_title: "الأيدي الآمنة",
                nav_home: "الرئيسية",
                nav_services: "الخدمات",
                nav_about: "من نحن",
                nav_contact: "تواصل معنا",
                nav_find_babysitters: "ابحث عن جليسات أطفال",
                nav_book_now: "احجز الآن",
                nav_profile: "البروفايل",
                nav_login_signup: "تسجيل الدخول / إنشاء حساب",
                nav_logout: "تسجيل الخروج",
                hero_title: "الأيدي الآمنة: جليسات أطفال موثوقة",
                hero_description: "احجز جليسات أطفال موثوقة ومُتحقق منها بسهولة وثقة.",
                hero_button: "احجز الآن",
                services_title: "خدماتنا",
                service1_title: "رعاية الأطفال وكبار السن",
                service1_description: "احجز مقدمي رعاية موثوقين للأطفال وكبار السن — سواء للدعم الطبي أو جليسة أطفال أو الرفقة.",
                service2_title: "جدولة مرنة",
                service2_description: "حدد مواعيد الرعاية حسب الطلب أو مقدمًا بمرونة كاملة — سواء لبضع ساعات أو دعم مستمر.",
                service3_title: "مقدمو رعاية مُتحقق منهم",
                service3_description: "جميع مقدمي الرعاية تم التحقق من خلفياتهم، وتدريبهم، وتقييمهم من قبل العائلات لضمان خدمة آمنة وموثوقة.",
                faq_link: "الأسئلة الشائعة",
                footer_company_title: "الأيدي الآمنة",
                footer_company_description: "احجز جليسات أطفال موثوقة ومُتحقق منها بسهولة وثقة.",
                footer_links_title: "الروابط",
                footer_contact_title: "تواصل معنا",
                footer_contact_email: "البريد الإلكتروني: Safehands.com",
                footer_contact_phone: "رقم الهاتف: 01279581077",
                footer_contact_address: "العنوان: 202 شارع باكوس، الإسكندرية، مصر",
                footer_copyright: "جميع الحقوق محفوظة. 2025 الأيدي الآمنة."
            },
            en: {
                site_title: "Safe Hands",
                nav_home: "Home",
                nav_services: "Services",
                nav_about: "About",
                nav_contact: "Contact",
                nav_find_babysitters: "Find Babysitters",
                nav_book_now: "Book Now",
                nav_profile: "My profile",
                nav_login_signup: "Login/Sign Up",
                nav_logout: "Logout",
                hero_title: "Safe Hands: Trusted Babysitting",
                hero_description: "Book reliable, vetted babysitters for your children with ease and confidence.",
                hero_button: "Book Now",
                services_title: "Our Services",
                service1_title: "Care for Kids & Seniors",
                service1_description: "Book trusted caregivers for both children and elderly — whether for medical support, babysitting, or companionship.",
                service2_title: "Flexible Scheduling",
                service2_description: "Schedule care visits on-demand or in advance with full flexibility — whether for a few hours or ongoing support.",
                service3_title: "Verified Caregivers",
                service3_description: "All caregivers are background-checked, trained, and rated by families to ensure safe and reliable service.",
                faq_link: "FAQ",
                footer_company_title: "Safe Hands",
                footer_company_description: "Trusted Babysitting, Book reliable, vetted babysitters for your children with ease and confidence.",
                footer_links_title: "Links",
                footer_contact_title: "Contact Us",
                footer_contact_email: "Email: Safehands.com",
                footer_contact_phone: "Phone: 01279581077",
                footer_contact_address: "Address: 202 Bakos Street, Alexandria, Egypt",
                footer_copyright: "All rights reserved. 2025 Safe Hands."
            }
        };

        function changeLanguage() {
            const lang = document.getElementById('languageSelect').value;
            document.getElementById('htmlLang').setAttribute('lang', lang);
            document.getElementById('htmlLang').setAttribute('dir', lang === 'ar' ? 'rtl' : 'ltr');

            document.querySelectorAll('[data-i18n]').forEach(element => {
                const key = element.getAttribute('data-i18n');
                element.textContent = translations[lang][key];
            });

            localStorage.setItem('language', lang);
            updateNavigation();
        }

        function updateNavigation() {
            const userData = JSON.parse(localStorage.getItem('userData') || '{}');
            const loginLink = document.getElementById('login-link');
            const profileLink = document.getElementById('profile-link');
            const logoutLink = document.getElementById('logout-link');
            const userNameDisplay = document.getElementById('user-name-display');
            const userNameText = document.getElementById('user-name-text');
            const urlParams = new URLSearchParams(window.location.search);
            const userId = urlParams.get('user_id') || userData.user_id;
            const userEmail = urlParams.get('email') || userData.user_email || userData.email;
            const userName = userData.name || 'مستخدم';

            if (loginLink && profileLink && logoutLink && userNameDisplay && userNameText) {
                if (userEmail) {
                    loginLink.style.display = 'none';
                    profileLink.style.display = 'block';
                    logoutLink.style.display = 'block';
                    userNameDisplay.style.display = 'inline-flex';
                    userNameText.textContent = userName;
                    profileLink.href = `/my_pro/profile.html?user_id=${userId || ''}&user_email=${encodeURIComponent(userEmail || '')}&name=${encodeURIComponent(userName || '')}`;
                } else {
                    loginLink.style.display = 'block';
                    profileLink.style.display = 'none';
                    logoutLink.style.display = 'none';
                    userNameDisplay.style.display = 'none';
                }
            }

            console.log("User ID from URL:", userId);
            console.log("User Email from URL:", userEmail);
            console.log("User Name from localStorage:", userName);
            console.log("User Data from localStorage:", userData);
            console.log("Profile link set to:", profileLink ? profileLink.href : 'Profile link not found');
        }

        function logout() {
            localStorage.removeItem('userData');
            updateNavigation();
            window.location.href = '/log/login.html';
        }

        function scrollToSection(sectionId) {
            document.getElementById(sectionId).scrollIntoView({ behavior: 'smooth' });
        }

        window.addEventListener('scroll', () => {
            let current = '';
            const sections = document.querySelectorAll('section');
            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                if (pageYOffset >= sectionTop - 60) {
                    current = section.getAttribute('id');
                }
            });

            const navLinks = document.querySelectorAll('.nav-link');
            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href').substring(1) === current) {
                    link.classList.add('active');
                }
            });
        });

        window.onload = function() {
            const savedLang = localStorage.getItem('language') || 'ar';
            document.getElementById('languageSelect').value = savedLang;
            changeLanguage();
            updateNavigation();
        };

        document.addEventListener('DOMContentLoaded', () => {
            const urlParams = new URLSearchParams(window.location.search);
            const userId = urlParams.get('user_id');
            const userEmail = urlParams.get('email');
            const name = urlParams.get('name');
            let userData = JSON.parse(localStorage.getItem('userData') || '{}');

            if (userId || userEmail) {
                userData = { user_id: userId, user_email: userEmail, name: name || userData.name || '' };
                localStorage.setItem('userData', JSON.stringify(userData));
            } else if (userData && !userData.user_email && userData.email) {
                userData.user_email = userData.email;
                localStorage.setItem('userData', JSON.stringify(userData));
            }

            updateNavigation();
        });
    </script>
</body>
</html>